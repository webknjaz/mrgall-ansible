rclone_config_file: /etc/rclone.conf
# Configuration settings definition dictionary. You can copy it directly from
# the rclone config file (I know, it requires you to setup it manually first
# in order to get these parameters).
rclone_config:
  drive:
    type: drive
    client_id: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      33393332663430396335373438623833633732366133323034376234323465313562356432613765
      3162393763363062363831306363303465646532376561650a386433323061363561616538353465
      65326135343966343036346532393430373436653930353336383831323363336531316131633963
      3230653038386138320a643138666531393562323131386432326632633261346539363236303061
      36616661636631336662306333363731656363633564393035653237663430343530323538336435
      37633562323535623963373039366565303964616165303965653936613330303938633734303837
      30636133323861616364343061623834623131373432666164306132383233326331336439316565
      30363834303664623638
    client_secret: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      36383536613336386634623464613839613862326337383662626335666434646465663466396363
      3630643533333561366664653965313339643535633732320a626431616638343932303764653165
      39373432303730633466336539356634386663633433353732396362356130633166306130613863
      3939363438666665610a363163386534393034323766316466643737393733383166303737346238
      61323130663633633331343532343936383831323638326562306664346262633165
    token: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      37386134666264326635653839386135306230343033636365626330663565643735373734376163
      3439333730303363663532636332633438653538323666350a393238346264323264356661386232
      65373537623264306238653964323162373434653839633365333663613133323732393633353836
      3937336531646134660a373534326162386461323463663962633137343063393363393930373163
      63613539616164373164383030343633336339343138396632656530356265313239323330643536
      65623231393636363430386330616637646662356331336335646131313134336465356333313663
      38666533383131646235623431396663663139323838353031316334356136326332613439393531
      33323664386234343032613863643131326538363932316234646163326163386231653936613562
      35643135363535613863353630613834613432623161383931373831393461653532303462643962
      35326133303432383231333635303462383137636630363336343631393637333335636334346235
      36636332396134653133323237653533663064626431636563666330666561663262393265666235
      38373839353133343734313834613336386231346233383833323239653431373463316339393530
      31316263643631646331613138373530303932663735363036626639633538373638663334373433
      65386162306439383666363463363932363164303731333966663337616432393132633566313630
      61363131623131656236353933633662343862383661346161616261666435653531613633663333
      62363138386664663038306631646466376238386166376163663030613163363731366264663466
      36623166373331353534663330363934643939363661633634616433646232346263306531663135
      3635303331363662356136643739323663633738646564373334

  encrypt:
    type: crypt
    remote: drive:backups/dokku
    filename_encryption: standard
    password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      61653764653738396264326437626430633837376130373935656461323863653065386636373663
      3032323939613533386434646264386464306135326533380a376165646662303738303264653938
      65393137346564383431613964623038623731623765356161343931323633366565363630316564
      3336653164333061380a333738613562626166376233653261373462303664616139636463303364
      34363061396132376533633063333037626363643064386538623033366235386163633738666262
      30343863343534393438626363353037323033393132343963333535386363623830663334373333
      313937663233333261393765636461386263
    password2: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      39633563613233386162363733663534396533306661313965396464386531623236306662623863
      6231353935616239623766333064666438616139376161640a633736313530363764616639323633
      61303635393931613734643635636231363366366439666538643465633834626339336663346266
      6634306236323231340a393865353030373834326335383838373439636433636165643232346439
      61393137646139373464356562396632623830343835316232666337613531393430323163383139
      33663462633062643166666636323539663263633462623932663866653832636331316539323239
      386161663036613135616138326530386234

#rclone_user: dokku
#rclone_group: dokku
rclone_user: root
rclone_group: root

# Backup definition settings
rclone_backup_timer_enable: true
rclone_backup_timer_state: started

# run rclone every night at 03:46:08 a.m.
rclone_backup_timer_cron: "*-*-* 03:46:08"
rclone_backup_boot_delay: 15min

# Folder backup definition list. Each item has
#
# enable: Enable systemd service, defaults to true
# delete: Delete all files created, defaults to false
# destination: Rclone configuration destination name
# operation: Rclone command, defaults to sync
# folder: Directory where to perform backups from
# args: Additional arguments for the command, defaults to --copy-links
# osd_notify_user: enabled osd notifications to the specified user
# (you need X system running!)
#
rclone_backups:
- destination: encrypt:dokku
  folder: /var/lib/dokku/backups
  args: -v --copy-links --one-file-system
  filters:
  - "- .Private/"
  - "- .atom/"
  - "- .adobe/"
  - "- .mozilla/"
  - "- .macromedia/"
  - "- .gvfs/"
  - "- .gnome2_private/"
  - "- .cache/"
  - "- .dotfiles/"
  - "- .ecryptfs/"
  - "- .bundle/"
  - "- .bosh/"
  - "- .bosh_init/"
  - "- .dropbox*/"
  - "- .glide/"
  - "- .thumbnails/"
  - "- .vagrant.d/"
  - "- .gem/"
  - "- .ansible/"
  - "- .bundle/"
  #osd_notify_user: null

